version = 1
[custom]
enable_rule_generator = false
overwrite_original_rules = false

# 自定义基本配置文件的选项
clash_rule_base = "https://raw.githubusercontent.com/sengoku-f/subconverteriniexample/master/config/mycentos.yml"
#surge_rule_base = "base/surge.conf"
#surfboard_rule_base = "base/surfboard.conf"
#mellow_rule_base = "base/mellow.conf"
#quan_rule_base = "base/quan.conf"
#quanx_rule_base = "base/quanx.conf"

# 添加表情符号的选项
#add_emoji = true
#remove_old_emoji = true

# 过滤节点的选项
include_remarks = ["(?i)(港|HK|HONG|Hong|HGC)|(台|新北|彰化|TW|Taiwan)|(新加坡|狮城|SG|新)|(日本|川日|东京|大阪|泉日|埼玉|沪日|深日|JP)|(美|波特兰|达拉斯|俄勒冈|凤凰城|费利蒙|硅谷|拉斯维加斯|洛杉矶|圣何塞|圣克拉拉|西雅图|芝加哥|US)|(加拿大|CA)|(韩)"]
exclude_remarks = ["(?i)(官网|文档中心|公告|直连|免费|[\u4e00-\u9fa5]{1,3}\d{1,2}[B]|[\u4e00-\u9fa5]{1,3}->[\u4e00-\u9fa5]{1,3}\w{1,2}->.*\w{1,2})|(永久虚通路连接|落地|结算|多协议标签交换虚拟专用网|ipv6|DPDK测试|日本.*(沪日IEPL传输|Azure|Yahoo|电信|软银|まつやまし|ソフトバンク|オプテージ)|游戏|特殊地区|美国.*落|美国安畅|美国实验性|美国.*虚拟|HKBN|HKT|备用|集客)|(SSRSUB.*[港台日美新])"]

# 节点分组
[[custom_groups]]
name = "🔰 线路选择"
type = "fallback"
rule = ["[]🇭🇰 香港节点", "[]🇨🇳 台湾节点", "[]🇭🇰 香港节点"]
url = "http://www.gstatic.com/generate_204"
interval = 900
tolerance = 100
lazy = true

[[custom_groups]]
name = "🇭🇰 香港节点"
type = "fallback"
rule = ["(薯条.*(IEPL)).*(?=(香港|沪港))"]
url = "http://www.gstatic.com/generate_204"
interval = 900
tolerance = 100
lazy = true

[[custom_groups]]
name = "🇨🇳 台湾节点"
type = "fallback"
rule = ["^(?!.*(IEPL)).*(台|新北|彰化|TW|Taiwan)"]
url = "http://www.gstatic.com/generate_204"
interval = 900
tolerance = 100
lazy = true

[[custom_groups]]
name = "🐶 京东"
type = "select"
rule = ["[]DIRECT", "((?i)HttpProxy)", "[]🔰 线路选择", "[]🇭🇰 香港节点", "[]🇨🇳 台湾节点", "[]♻️ 负载均衡", "(港|台|新|日|美|加|韩)"]

[[custom_groups]]
name = "♻️ 负载均衡"
type = "load-balance"
rule = ["^(?!.*(IEPL)).*(台|新北|彰化|TW|Taiwan)"]
interval = 100
strategy = "round-robin"
url = "http://www.gstatic.com/generate_204"

[[custom_groups]]
name = "🕹 黑白名单"
type = "select"
rule = ["[]🔰 线路选择", "[]🇭🇰 香港节点", "[]🇨🇳 台湾节点", "[]DIRECT"]

[[custom_groups]]
name = "🕹 黑白名单"
type = "select"
rule = ["[]DIRECT", "[]🔰 线路选择", "[]🇭🇰 香港节点", "[]🇨🇳 台湾节点"]

# 分流规则
[[rulesets]]
group = "DIRECT"
ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list"

[[rulesets]]
group = "DIRECT"
ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list"

[[rulesets]]
group = "DIRECT"
ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list"

[[rulesets]]
group = "🔰 线路选择"
ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyLite.list"

[[rulesets]]
group = "🐶 京东"
ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/JD.list"

[[rulesets]]
group = "🐶 京东"
ruleset = "https://raw.githubusercontent.com/sengoku-f/subconverteriniexample/master/surgerule/JD.list"

[[rulesets]]
group = "🎯 不走代理"
ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list"

[[rulesets]]
group = "🎯 不走代理"
ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list"

[[rulesets]]
group = "🎯 不走代理"
ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaIp.list"

[[rulesets]]
group = "🎯 不走代理"
ruleset = "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list"

[[rulesets]]
group = "🎯 不走代理"
ruleset = "[]GEOIP,CN"

[[rulesets]]
group = "🕹 黑白名单"
ruleset = "[]FINAL"

# ssrcloud 重命名
[[rename_node]]
match = "(.落地).(\d+).(HGC).(\d+).*"
replace = "[薯条][$3]$1$4"

[[rename_node]]
match = "(中港)((专线)?).(IPLC|IEPL).((\w)(\d+)?)((\s\d{1,}[MG]bps)?)"
replace = "[薯条][$4]$1专线$5"

[[rename_node]]
match = "(.*)(台湾).(游戏专线)"
replace = "[薯条][$3]$2"

[[rename_node]]
match = "(加拿大)(\s\d)(\s\d{1,}[MG]bps).(\d[x倍])"
replace = "[薯条]$1$2"

[[rename_node]]
match = "(台湾).?(电信|HiNet)((\s\d{1,})?)(\s\d{1,}[MG]bps).*(\d[x倍]|Netflix|Hulu|HBO|动画疯|TVB)((\s\w)?)"
replace = "[薯条][$2]$1$3$7[NF]"

[[rename_node]]
match = "(新加坡|美国).?(Legacy|Magic((.A)?)|标准|高级).*(IEPL)?.中继\s((\s?\w)(\d+)?).*"
replace = "[薯条][$2]$1$6[NF]"

[[rename_node]]
match = "(美国)(\d+)(\s\d{1,}[MG]bps)?.*(\d[x倍]|Netflix|Hulu|HBO|动画疯|TVB).(CN2).*"
replace = "[薯条][$5]$1$2"

[[rename_node]]
match = "(香港)(Azure)(\s\d{1,})(\s\d{1,}[MG]bps)"
replace = "[薯条][$2]$1$3"

[[rename_node]]
match = "(香港)(柴湾)(\s\d{1,}[MG]bps).(\w).*(\d[x倍]|Netflix|Hulu|HBO|动画疯|TVB).(东落地).(\d{1,}).*"
replace = "[薯条]$1$2$4-$6$7[NF]"

[[rename_node]]
match = "(中国).(加拿大).(IPLC|IEPL).*([a-zA-Z]\s?\d{1,})((\s\d{1,}[MG]bps)?)"
replace = "[薯条][$3]$2$4"

[[rename_node]]
match = "(中国).(加拿大|台湾|新加坡|日本|香港).(IPLC|(沪日)?IEPL).*([a-zA-Z]\s?\d{1,})((\s\d{1,}[MG]bps)?).*"
replace = "[薯条][$3]$2$5$6"

[[rename_node]]
match = "(回国).*(\b\w\d{1,})((\s\d{1,}[MG]bps)?).*(网易云).*"
replace = "[薯条]中国$2[$5]"

[[rename_node]]
match = "(美国)(\d{1,}).*"
replace = "[薯条]$1$2"

[[rename_node]]
match = "(香港).*(御金·国峯).(環球).*([a-zA-Z]\d{1,})"
replace = "[薯条][HGC]$1$2$4"

[[rename_node]]
match = "(香港).*(御金·国峯).(名氣通).*([a-zA-Z]\d{1,})"
replace = "[薯条][TGT]$1$2$4"

[[rename_node]]
match = "(澳门).*((\b\d{1,})\s([MG]bps)).*(\b\w{1,})"
replace = "[薯条]$1$5[$3$4]"

[[rename_node]]
match = "(沪港)\s(IEPL).*((N)et(f)lix).*(\b\w{1,})"
replace = "[薯条][$2]$1$6[\U$4$5]"


# [[template_args]]
# key = "clash.dns.port"
# value = "5353"